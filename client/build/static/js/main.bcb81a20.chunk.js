(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(73),c=n.n(i),s=n(16),o=n.n(s),l=n(21),u=n(64),d=n(46),b=n(8),m="https://a172cedcae47474b615c54d510a5d8.herokuapp.com",j=function(e,t){return Object.assign({},{method:e,headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")||""}),body:["POST","PUT"].includes(e)?t:null})},h=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+t,j("POST",n)).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+t,j("GET")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(69),f=Object(g.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set":return t.payload;default:return e}})),k=Object(g.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set":return t.payload;default:return e}})),O=n(2);function x(e){return Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Loading.."})})}function v(e){return Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Error.."})})}var y=n(15),N=n(38);function w(e){return Object(O.jsx)("div",{className:"uk-container uk-background-default",style:{padding:"50px 0"},children:e.children})}var C=n(122),S={margin:0,backgroundColor:"#3290c9",padding:15,width:30,height:30,display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",borderRadius:"50%",marginRight:10},A=Object(C.a)((function(){return{backdrop:{position:"fixed",inset:0,backgroundColor:"#47474700",pointerEvents:"none",transition:"all 300ms ease","&.open":{backgroundColor:"#47474770",pointerEvents:"all"}},modal:{minWidth:"50%",minHeight:"50%",backgroundColor:"#fff",pointerEvents:"none",transform:"translateY(500px)",transition:"all 300ms ease",opacity:0,"&.open":{pointerEvents:"all",transform:"translateY(0)",opacity:1}}}})),T=Object(C.a)((function(){return{row:{"&:hover":{backgroundColor:"#eee",cursor:"pointer"}}}})),F=Object(C.a)((function(){return{img:{width:"100%",height:300,marginBottom:55,marginTop:55,padding:20,"@media(max-width:620px)":{marginBottom:20}},grid:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:10,padding:20,"@media(max-width:1280px)":{gridTemplateColumns:"repeat(4, 1fr)"},"@media(max-width:800px)":{gridTemplateColumns:"repeat(3, 1fr)"},"@media(max-width:620px)":{gridTemplateColumns:"repeat(2, 1fr)"}},gridItem:{height:60,display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid transparent",fontWeight:900,backgroundColor:"#fff",fontSize:30,cursor:"not-allowed","&.booked":{borderColor:"#943f2c",textDecoration:"line-through",fontSize:20,fontWeight:700},"&.available":{borderColor:"#d1d1d1",cursor:"pointer"},"&.selected":{borderColor:"#18a126",color:"#18a126"}},actions:{padding:20,display:"flex",justifyContent:"space-between"},pill:S}})),B=Object(C.a)((function(){return{pill:S}})),D=Object(C.a)((function(){return{cardActions:{display:"flex",justifyContent:"space-between",alignItems:"center"},minAgeBadge:{backgroundColor:"#b31b1b",padding:10,borderRadius:"50%",color:"#fff"}}}));function E(e){var t=Object(b.g)(),n=D(),a=e.title;["-"," ","?",":",".","!"].forEach((function(e){a=a.replaceAll(e,"_")}));var r=["/",a.toLowerCase(),"/",(new Date).valueOf()].join("");return Object(O.jsxs)("div",{className:"uk-card uk-card-default",children:[Object(O.jsx)("div",{className:"uk-card-media-top",children:Object(O.jsx)("img",{src:e.thumbnail,alt:e.title,style:{width:"100%",height:300}})}),Object(O.jsxs)("div",{className:"uk-card-body",children:[Object(O.jsx)("h3",{className:"uk-card-title uk-text-nowrap uk-overflow-hidden",style:{textOverflow:"ellipsis"},children:e.title}),Object(O.jsxs)("p",{children:[e.description.substring(0,200),e.description.length>200?"...":""]}),Object(O.jsxs)("div",{className:n.cardActions,children:[Object(O.jsx)("a",{href:r,className:"uk-button uk-button-primary",onClick:function(n){return function(n){n.preventDefault(),t.push(r,e._id)}(n)},children:"Read More"}),e.minAge>0&&Object(O.jsxs)("div",{className:n.minAgeBadge,title:"Minimum age to see this movie",children:[e.minAge,"+"]})]})]})]})}var _=n(125),L=n(116),P=n(121),I=n(115);n(95);function J(e){return Object(O.jsx)("div",{children:Object(O.jsx)(_.a,{spaceBetween:10,slidesPerView:1,autoplay:{delay:7e3},onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},children:e.images.map((function(e){return Object(O.jsx)(L.a,{children:Object(O.jsx)("img",{src:e,alt:"",style:{width:"100%",height:"50vh"}})})}))})})}P.a.use([I.a]);var M,G=n(126),q=n(127),H=Object(G.a)(M||(M=Object(N.a)(["\n\tquery {\n\t\tmovies {\n\t\t\t_id\n\t\t\tthumbnail\n\t\t\ttitle\n\t\t\tdescription\n\t\t\tminAge\n\t\t\theader\n\t\t}\n\t}\n"])));var R,W=n(58);var Y=n(37),z=n(22);function U(e){var t=A(),n=r.a.useState(!1),a=Object(z.a)(n,2),i=a[0],c=a[1];return r.a.useEffect((function(){var e=k.subscribe((function(){return c(k.getState())}));return function(){return e()}}),[]),Object(O.jsx)("div",{onClick:function(){return c(!1)},className:[t.backdrop,"uk-flex uk-flex-center uk-flex-middle",i?"open":""].join(" "),children:Object(O.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:[t.modal,"uk-card uk-card-default uk-card-body",i?"open":""].join(" "),children:e.children})})}var V,K=function(e){var t=e.classes,n=r.a.useState({seats:e.seats,name:"",email:"",phone:""}),a=Object(z.a)(n,2),i=a[0],c=a[1],s=function(e,t){c(Object(y.a)(Object(y.a)({},i),{},Object(Y.a)({},e,t)))},u=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,h("/api/index/booking/create",JSON.stringify(Object(y.a)(Object(y.a)({},i),{},{instance:e._id,seats:i.seats.map((function(e){return e.seat}))})));case 3:n=t.sent,console.log(n),window.alert(n.message),n.success&&e.history.push("/booking/view/"+n.data._id,null);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.useEffect((function(){return c(Object(y.a)(Object(y.a)({},i),{},{seats:e.seats}))}),[e.seats]),Object(O.jsxs)(U,{children:[Object(O.jsx)("h3",{className:"uk-heading-small",children:e.movie.title}),Object(O.jsx)("div",{className:"uk-flex uk-margin-medium-bottom",children:i.seats.map((function(e){return Object(O.jsx)("p",{className:t.pill,children:e.seat},e.seat)}))}),Object(O.jsxs)("div",{className:"form",children:[Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"name",className:"uk-display-block uk-margin-small-bottom",children:"Full Name"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"name",placeholder:"John Doe",value:i.name,onChange:function(e){return s("name",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"email",className:"uk-display-block uk-margin-small-bottom",children:"Email"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"email",placeholder:"john_doe@gmail.com",value:i.email,onChange:function(e){return s("email",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"phone",className:"uk-display-block uk-margin-small-bottom",children:"Phone Number"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"phone",placeholder:"+45 33 41 71 00",value:i.phone,onChange:function(e){return s("phone",e.target.value)}})]}),Object(O.jsx)("p",{title:"When the movie will start",className:"uk-text-right",children:new Date(e.date).toLocaleString()}),Object(O.jsx)("button",{className:"uk-button uk-button-primary uk-display-block uk-margin-auto-left",onClick:u,children:"Confirm My Booking"})]})]})};var Q,X=function(e){var t=Object(b.g)(),n=r.a.useState({username:"",password:""}),a=Object(z.a)(n,2),i=a[0],c=a[1],s=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),e.next=3,h("/api/auth/login",JSON.stringify(i));case 3:n=e.sent,window.alert(n.message),n.success&&(localStorage.setItem("token",n.data),t.push("/admin/dashboard",null));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"uk-container uk-container-xsmall uk-margin-xlarge-top",children:Object(O.jsxs)("form",{className:"uk-card uk-card-default uk-card-body uk-width-1-2@m uk-margin-auto",children:[Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"username",className:"uk-display-block uk-margin-small-bottom",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"uk-input",placeholder:"Username",id:"username",value:i.username,onChange:function(e){return c(Object(y.a)(Object(y.a)({},i),{},{username:e.target.value}))}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"password",className:"uk-display-block uk-margin-small-bottom",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"uk-input",placeholder:"Password",autoComplete:"current-password",id:"password",value:i.password,onChange:function(e){return c(Object(y.a)(Object(y.a)({},i),{},{password:e.target.value}))}})]}),Object(O.jsx)("button",{type:"button",className:"uk-button uk-button-default uk-display-block uk-margin-auto-left",onClick:s,children:"Log in"})]})})},Z=Object(G.a)(Q||(Q=Object(N.a)(["\n\tquery {\n\t\tmovies {\n\t\t\t_id\n\t\t\ttitle\n\t\t}\n\t}\n"]))),$={movie:"Please pick a title",date:(new Date).toString(),seats:"0"};function ee(e){var t=Object(b.g)(),n=[{text:"Publish Movie",className:"uk-margin-right",action:function(){return e.setTab(0)}},{text:"Publish Date",className:"uk-margin-right",action:function(){return e.setTab(1)}},{text:"Back To Site",className:"",action:function(){return t.push("/",null)}}];return Object(O.jsx)("div",{className:"uk-margin-bottom",children:Object(O.jsx)("div",{children:n.map((function(t,n){return Object(O.jsx)("a",{className:[t.className,e.active===n?"uk-text-secondary":""].join(" "),onClick:t.action,children:t.text},n)}))})})}var te={thumbnail:"",header:"",trailer:"",title:"",description:"",minAge:"0"};var ne=[function(e){var t=r.a.useState(te),n=Object(z.a)(t,2),a=n[0],i=n[1],c=function(e,t){return i(Object(y.a)(Object(y.a)({},a),{},Object(Y.a)({},e,t)))},s=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/api/admin/movie/create",JSON.stringify(a));case 2:t=e.sent,window.alert(t.message),t.success&&i(te);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"thumbnail",className:"uk-display-block uk-margin-small-bottom",children:"Thumbnail"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"thumbnail",placeholder:"Shershaah_film_poster.jpg",value:a.thumbnail,onChange:function(e){return c("thumbnail",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"header",className:"uk-display-block uk-margin-small-bottom",children:"Header"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"header",placeholder:"shershah-movie.jpg",value:a.header,onChange:function(e){return c("header",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"trailer",className:"uk-display-block uk-margin-small-bottom",children:"Trailer"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"trailer",placeholder:"https://www.youtube.com/watch?v=agIJTnpfFGA",value:a.trailer,onChange:function(e){return c("trailer",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"title",className:"uk-display-block uk-margin-small-bottom",children:"Title"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"title",placeholder:"Shershaah",value:a.title,onChange:function(e){return c("title",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"age",className:"uk-display-block uk-margin-small-bottom",children:"Minimum Age"}),Object(O.jsx)("input",{type:"text",className:"uk-input",id:"age",placeholder:"18",value:a.minAge,onChange:function(e){return c("minAge",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"description",className:"uk-display-block uk-margin-small-bottom",children:"Description"}),Object(O.jsx)("textarea",{className:"uk-textarea",id:"description",value:a.description,onChange:function(e){return c("description",e.target.value)}})]}),Object(O.jsx)("div",{className:"uk-flex uk-flex-right",children:Object(O.jsx)("button",{className:"uk-button uk-button-primary",onClick:s,children:"Add Movie"})})]})},function(e){var t=Object(q.a)(Z),n=t.loading,a=t.error,i=t.data,c=r.a.useState($),s=Object(z.a)(c,2),u=s[0],d=s[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/api/admin/instance/create",JSON.stringify(u));case 2:t=e.sent,window.alert(t.message),t.success&&d($);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e,t){d(Object(y.a)(Object(y.a)({},u),{},Object(Y.a)({},e,t)))};return n?Object(O.jsx)("p",{children:"Loading..."}):a?Object(O.jsx)("p",{children:"Error..."}):Object(O.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"movie",className:"uk-display-block uk-margin-small-bottom",children:"Movie Title"}),Object(O.jsxs)("select",{id:"movie",className:"uk-select",value:u.movie,onChange:function(e){return m("movie",e.target.value)},children:[Object(O.jsx)("option",{children:"-"}),i.movies.map((function(e,t){return Object(O.jsx)("option",{value:e._id,id:"movie",children:e.title},t)}))]})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"date",className:"uk-display-block uk-margin-small-bottom",children:"Date"}),Object(O.jsx)("input",{id:"date",className:"uk-input",type:"datetime-local",value:u.date,onChange:function(e){return m("date",e.target.value)}})]}),Object(O.jsxs)("section",{className:"uk-margin-bottom",children:[Object(O.jsx)("label",{htmlFor:"seats",className:"uk-display-block uk-margin-small-bottom",children:"Available Seats"}),Object(O.jsx)("input",{id:"seats",className:"uk-input",type:"number",value:u.seats,onChange:function(e){return m("seats",e.target.value)}})]}),Object(O.jsx)("div",{className:"uk-flex uk-flex-right",children:Object(O.jsx)("button",{className:"uk-button uk-button-primary",onClick:b,children:"Add Date"})})]})}];var ae=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/api/admin");case 2:if(r=e.sent,f.dispatch({type:"set",payload:r.success}),void 0!==t.meta.auth){e.next=6;break}return e.abrupt("return",a());case 6:if(!t.meta.auth){e.next=8;break}return e.abrupt("return",r.success?a():a.redirect("/"));case 8:if(t.meta.auth){e.next=10;break}return e.abrupt("return",r.success?a.redirect("/admin/publish"):a());case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),re=[{path:"/admin/dashboard",component:function(){var e=r.a.useState(0),t=Object(z.a)(e,2),n=t[0],a=t[1];return Object(O.jsxs)(w,{children:[Object(O.jsx)("h1",{children:"Dashboard"}),Object(O.jsx)(ee,{active:n,setTab:function(e){a(e)}}),ne.map((function(e,t){return n===t?Object(O.jsx)(e,{},t):null}))]})},auth:!0},{path:"/admin/login",component:X,auth:!1},{path:"/",component:function(e){var t=Object(q.a)(H),n=t.loading,a=t.error,r=t.data;return n?Object(O.jsx)("p",{children:"Loading..."}):a?Object(O.jsx)("p",{children:"Error..."}):Object(O.jsxs)(w,{children:[Object(O.jsx)("div",{className:"uk-margin-large-bottom",children:Object(O.jsx)(J,{images:r.movies.map((function(e){return e.header}))})}),Object(O.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:50},children:r.movies.map((function(e,t){return Object(O.jsx)(E,Object(y.a)({},e),t)}))})]})}},{path:"/:title/:today",component:function(e){var t=Object(b.g)(),n=Object(b.h)(),a=T();e.location.state||t.push("/",null);var r,i=Object(q.a)((r=e.location.state,Object(G.a)(R||(R=Object(N.a)(['\n\t\tquery {\n\t\t\tmovie(id: "','") {\n\t\t\t\t_id\n\t\t\t\tcreatedAt\n\t\t\t\tupdatedAt\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\tthumbnail\n\t\t\t\theader\n\t\t\t\ttrailer\n\t\t\t}\n\n\t\t\tinstances(id: "','") {\n\t\t\t\t_id\n\t\t\t\tdate\n\t\t\t\tcreatedAt\n\t\t\t\tseats\n\t\t\t\tbookings\n\t\t\t}\n\t\t}\n'])),r,r))),c=i.loading,s=i.error,o=i.data;if(c)return Object(O.jsx)("p",{children:"Loading..."});if(s)return Object(O.jsx)("p",{children:"Error..."});var l=o.movie.trailer.split("?v=")[1];return Object(O.jsxs)(w,{children:[Object(O.jsx)("iframe",{className:"uk-width-100",height:"720",src:"https://www.youtube.com/embed/"+l,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(O.jsx)("h1",{children:o.movie.title}),Object(O.jsx)("p",{children:o.movie.description}),Object(O.jsx)("div",{className:"uk-overflow-auto",children:Object(O.jsxs)("table",{className:"uk-table uk-table-small uk-table-divider",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"#"}),Object(O.jsx)("th",{children:"Date"}),Object(O.jsx)("th",{children:"Seats Left"})]})}),Object(O.jsx)("tbody",{children:Object(W.a)(o.instances).sort((function(e,t){return new Date(e.date).valueOf()-new Date(t.date).valueOf()})).map((function(e,r){return Object(O.jsxs)("tr",{className:a.row,onClick:function(a){return function(e,a){var r=["/",n.title,"/",n.today,"/confirm"].join("");t.push(r,Object(y.a)(Object(y.a)({},a),o))}(0,e)},children:[Object(O.jsx)("td",{children:r+1}),Object(O.jsx)("td",{children:new Date(e.date).toLocaleString()}),Object(O.jsx)("td",{children:e.seats-e.bookings.length})]},r)}))})]})}),Object(O.jsx)("button",{title:"Go Back","aria-label":"Go Back",className:"uk-button uk-button-default uk-margin-medium-top",onClick:function(){return t.goBack()},children:Object(O.jsx)("span",{"uk-icon":"chevron-left"})})]})}},{path:"/:title/:today/confirm",component:function(e){var t=Object(b.g)();e.location.state||t.push("/",null);var n=e.location.state,a=F(),i=r.a.useCallback((function(){return l.some((function(e){return e.selected}))}),[]),c=r.a.useCallback((function(){return new Array(n.seats).fill(0).map((function(e,t){return{selected:!1,seat:t,available:!n.bookings.includes(t)}}))}),[]),s=r.a.useState(c),o=Object(z.a)(s,2),l=o[0],u=o[1];return Object(O.jsxs)(w,{children:[Object(O.jsx)("img",{className:a.img,src:"/movie-svgrepo-com.svg"}),Object(O.jsx)("div",{className:a.grid,children:l.map((function(e){return Object(O.jsx)("div",{onClick:function(){return function(e){if(e.available){var t=l;t[e.seat].selected=!t[e.seat].selected,u(Object(W.a)(t))}}(e)},title:e.available?"Seat ".concat(e.seat+1):"Already booked",className:[a.gridItem,e.available?"available":"booked",e.selected?"selected":""].join(" "),children:e.seat+1},e.seat)}))}),Object(O.jsxs)("div",{className:a.actions,children:[Object(O.jsx)("button",{title:"Go Back","aria-label":"Go Back",className:"uk-button uk-button-default",onClick:function(){return t.goBack()},children:Object(O.jsx)("span",{"uk-icon":"chevron-left"})}),Object(O.jsx)("button",{title:"Continue","aria-label":"Continue",className:"uk-button uk-button-primary",disabled:!i(),onClick:function(){return k.dispatch({type:"set",payload:!0})},children:"Continue"})]}),Object(O.jsx)(K,Object(y.a)(Object(y.a)({},n),{},{classes:a,history:t,seats:l.filter((function(e){return e.selected&&e.available}))}))]})}},{path:"/booking/view/:id",component:function(e){var t,n=Object(b.h)(),a=Object(q.a)((t=n.id,Object(G.a)(V||(V=Object(N.a)(['\n\tquery {\n\t\tbooking(id: "','") {\n\t\t\t_id\n            name\n            email\n            phone\n            seats\n\n            instance {\n                _id\n                date\n\n                movie {\n                    title\n                    trailer\n                    minAge\n                }\n            }\n\t\t}\n\t}\n'])),t))),r=a.loading,i=a.error,c=a.data,s=B(),o=Object(b.g)();if(r)return Object(O.jsx)("p",{children:"Loading..."});if(i)return Object(O.jsx)("p",{children:"Error..."});console.log(c);var l=c.booking.instance.movie.trailer.split("?v=")[1];return Object(O.jsxs)(w,{children:[Object(O.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(O.jsx)("iframe",{className:"uk-width-100",height:"720",src:"https://www.youtube.com/embed/"+l,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(O.jsxs)("h3",{className:"uk-card-title",children:["Booking for: ",c.booking.instance.movie.title]}),Object(O.jsx)("div",{className:"uk-flex uk-margin-bottom",children:c.booking.seats.map((function(e){return Object(O.jsx)("p",{className:s.pill,children:e},e)}))}),Object(O.jsxs)("ul",{className:"uk-list uk-list-striped",children:[Object(O.jsx)("li",{children:c.booking.name}),Object(O.jsx)("li",{children:c.booking.email}),Object(O.jsx)("li",{children:c.booking.phone}),Object(O.jsx)("li",{children:new Date(c.booking.instance.date).toLocaleString()}),c.booking.instance.movie.minAge>0&&Object(O.jsx)("li",{children:c.booking.instance.movie.minAge})]})]}),Object(O.jsx)("button",{className:"uk-button uk-button-default uk-margin-top",onClick:function(){return o.push("/",null)},children:"Home"})]})}},{path:"*",component:v}];function ie(e){return Object(O.jsx)(d.a,{children:Object(O.jsx)(u.a,{guards:[ae],loading:x,error:v,children:Object(O.jsx)(b.d,{children:re.map((function(e){return Object(O.jsx)(u.b,{path:e.path,component:e.component,meta:{auth:e.auth},exact:!0},e.path)}))})})})}function ce(e){return Object(O.jsx)("div",{id:"AppComponent",children:Object(O.jsx)(ie,{})})}var se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},oe=n(123),le=n(124),ue=n(120),de=new oe.a({uri:m+"/graphql",cache:new le.a});n(97);c.a.render(Object(O.jsx)(ue.a,{client:de,children:Object(O.jsx)(ce,{})}),document.getElementById("root")),se()}},[[98,1,2]]]);
//# sourceMappingURL=main.bcb81a20.chunk.js.map